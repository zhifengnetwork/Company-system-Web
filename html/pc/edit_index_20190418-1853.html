<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>客户_手动创建页面_给固定模板</title>
		<link rel="stylesheet" href="../../css/pc/public/public.css" />
		<!--<link rel="stylesheet" href="../../css/phone/public/swiper.min.css" />-->
		<link rel="stylesheet" href="../../css/pc/edit_index.css" />
	</head>

	<body>
		<div class="wrapper" id="edit_app_wrap">
			<div class="tab">
				<ul class="tabs clearfloat">
					<li class="active">
						<a href="" data-toggle="0">首页编辑</a>
					</li>
					<li>
						<a href="" data-toggle="1">分类</a>
					</li>
					<li>
						<a href="" data-toggle="2">购物车</a>
					</li>
					<li>
						<a href="" data-toggle="3">个人中心</a>
					</li>
				</ul>
			</div>
			<!--首页编辑-->
			<div class="content clearfloat">
				<!--left box-->
				<div class="left_box">
					<!--功能插件-->
					<div class="left_box_fun_box clearfloat">
						<p class="fun_box_top">功能插件</p>
						<div class="fun_box_content clearfloat">
							<!--项-->
							<p class="fun_box_content_term"  v-for="(v,i) in componentTerm" @click="comTremFun(v.id)">{{v.name}}</p>
						</div>
					</div>
				</div>
				<!--中间 box-->
				<div class="middle_box">
					<!--绝对定位=>设置图片，模拟手机-->
					<p class="phone_top"></p>
					<p class="phone_left"></p>
					<p class="phone_right"></p>
					<!--模拟手机的 wrap，背景图两边（img）-->
					<div class="html_wrpa">
						<!--水平居中-->
						<div class="html_box">
							<!--隐藏滚动条-->
							<!--<div class="html_box_new" id="view">
								<include src="new_index.html"></include>
							</div>-->
							<!--<iframe src="new_index.html" frameborder="0" width="100%"></iframe>-->
							<!--00写在-本页面00-->
							<div id="wrap_new" v-for="(v,i) in dataobj">
								<!--轮播图，拖拽的div-->
								<div class="drag_box" v-if="v.id == 'rotation'? true:''" :key="v.id" @click="editMode(v.index)">
									<!--模块 box-->
									<div class="modle_box">
										<img class="sowingMapImgNQ" src="../../img/0005.png" alt="" />
										<div class="cursor_box remove_ele">
											<!--1、删除按钮，生成html=>删除(remove_ele)-->
											<p class="cursor_box_del" onclick="removerEle(this)">删除</p>
										</div>
									</div>
									<!--编辑模板-->
									<div class="edit_modle">
										
									</div>
									
								</div>
								<!--搜索，拖拽的div-->
								<div class="drag_box" v-if="v.id == 'search'? true:''" :key="v.id" @click="editMode(v.index)">
									<!--模块 box-->
									<div class="modle_box">
										搜索
									</div>
									<!--编辑模板-->
									<div class="edit_modle">
										
									</div>
									
								</div>
								
							</div>
							<!--0000-->
							
						</div>
					</div>
					<p class="phone_bottom"></p>
				</div>
				<!--编辑模板 box-->
				<div class="right_box">
					
				</div>
			</div>
			<!-- 分类 -->
			<div class="content clearfloat" style="display:none">
				<!--中间 box-->
				<div class="middle_box">
					<!--绝对定位=>设置图片，模拟手机-->
					<p class="phone_top"></p>
					<p class="phone_left"></p>
					<p class="phone_right"></p>
					<!--模拟手机的 wrap，背景图两边（img）-->
					<div class="html_wrpa">
						<!--水平居中-->
						<div class="html_box">
							<iframe src="../phone/classify/classify.html"></iframe>
						</div>
					</div>
					<p class="phone_bottom"></p>
				</div>
			</div>
			<!-- 购物车 -->
			<div class="content clearfloat" style="display:none">
				<!--中间 box-->
				<div class="middle_box">
					<!--绝对定位=>设置图片，模拟手机-->
					<p class="phone_top"></p>
					<p class="phone_left"></p>
					<p class="phone_right"></p>
					<!--模拟手机的 wrap，背景图两边（img）-->
					<div class="html_wrpa">
						<!--水平居中-->
						<div class="html_box">
							<!--隐藏滚动条-->
							<!--<div class="html_box_new"">-->
							<iframe class="html_box_new" src="../phone/shopping_cart/shopping_cart.html" frameborder="0"></iframe>
							<!--</div>-->
						</div>
					</div>
					<p class="phone_bottom"></p>
				</div>
			</div>
			<!-- 个人中心 -->
			<div class="content clearfloat" style="display:none">
				<!--中间 box-->
				<div class="middle_box">
					<!--绝对定位=>设置图片，模拟手机-->
					<p class="phone_top"></p>
					<p class="phone_left"></p>
					<p class="phone_right"></p>
					<!--模拟手机的 wrap，背景图两边（img）-->
					<div class="html_wrpa">
						<!--水平居中-->
						<div class="html_box" style="overflow: hidden;">
							<!--隐藏滚动条-->
								<iframe class="html_box_new" src="../phone/my/user.html"></iframe>
						</div>
					</div>
				
					<p class="phone_bottom"></p>
				</div>
			</div>
		</div>

		<!--引入另外一个页面的js-->
		<!--<script src="./../js/include.js"></script>-->
		<script src="../../js/pc/public/jquery-1.8.3.js"></script>
		<!--<script src="./../js/public/swiper.min.js"></script>-->
		<!--public的js-->
		<!--<script src="../../js/pc/edit_index.js"></script>-->
		<!--拖拽js-->
		
		<script>
			$(document).ready(function() {

				// tba切换
				$(".tabs>li>a").click(function(e) {
					e.preventDefault();
					var $tar = $(e.target);
					var index = $tar.attr('data-toggle')
					if($tar.is("[data-toggle]")) {
						$tar.parent().addClass('active').siblings().removeClass('active')
						$('.wrapper').children('.content').eq(index).show().siblings('.content').hide()
					}
				})

			})
		</script>
		<script src="../../js/pc/public/vue.js"></script>
		<script>
			var newVue = new Vue({
				el: "#edit_app_wrap",
				data: {
					/*公共存放 index*/
					publiInd: 0,
					/*组件-选项*/
					componentTerm: [
						{name:"轮播",id:'rotation'},
						{name:"搜索框",id:'search'},
						{name:"按钮组",id:'2'},
						{name:"店招",id:'3'},
						{name:"商品组",id:'4'},
						{name:"公告",id:'5'},
						{name:"辅助空白",id:'6'},
					],
					/*（pc端）渲染-组件，数组形式*/
					dataobj: [
						//数据格式
						/*{
							id: _id,
							index: _index,
						}*/
					],
					/*传个后台-data ，对象形式*/
					backData: [
						/*数据格式*/
//						{
//							uid:'',
//							/*0=>正方形，1=>长方形，2=>圆形*/
//							butStyle: 0,
//							/*left=>左，middle=>中间，right=>右*/
//							butPosition: 'middle',
//							/*按钮颜色*/
//							butColor: '',
//							/*轮播的图片路径*/
//							imgUrl: [
//								'../../img/0005.png',
//								'../../img/0005.png',
//								'../../img/0005.png',	
//							],
//						}
					],
					/*轮播图，数据初始化*/
					roObj: {
						/*id*/
						uid:'rotation',
						/*0=>正方形，1=>长方形，2=>圆形*/
						butStyle: 0,
						/*left=>左，middle=>中间，right=>右*/
						butPosition: 'middle',
						/*按钮颜色*/
						butColor: '',
						/*轮播的图片路径*/
						imgUrl: [
							'../../img/0005.png',
							'../../img/0005.png',
							'../../img/0005.png',	
						],
					},
					/*搜索框，数据初始化*/
					reObj: {
						/*id*/
						uid:'search',
						/*提示文字*/
						tipeText: '你会了么？',
						/*0=>样式一，1=>样式二*/
						reStyle: 0,
						/*文字颜色*/
						textColor: '#999',
						/*边框颜色*/
						borderColor: '#ccc',
						/*背景颜色*/
						backColor: '#000',
					}
					
				},
				methods: {
					/*组件选项-按钮*/
					comTremFun(_id){
						var that = this;
						console.log(_id,that.dataobj.length );
//						/*新的数据渲染*/
//						var newPageData = [];
//						/*拖拽-改变-数据渲染的位置。*/
//						for(var i=0;i<that.backData.length;i++){
//							if(that.backData[i]['index'] != i){
//								that.backData[i]['index'] = i;
//							}
//						}
						/*存储当前的数据*/
						var thisState = {
							id: _id,
							/*pc渲染数据=>下标=> 编辑页面*/
							index: that.dataobj.length,
						}
						/*轮播图*/
						if(_id === 'rotation'){
							/*pc端页面渲染-data*/
							that.dataobj.push(thisState);
							/*APP页面渲染-data*/
							that.backData.push(that.roObj);
							console.log('传给后台数据',that.backData);
							return false;
						}
						/*搜索框*/
						if(_id === "search"){
							that.dataobj.push(thisState);
							that.backData.push(that.roObj);
							console.log('传给后台数据',that.backData);
							return false;
						}
						
						
						
					},
					/*编辑对应的模板*/
					editMode(_index){
						console.log(_index);
						this.publiInd = _index;
					}
				}
			});
			
		</script>
	</body>

</html>