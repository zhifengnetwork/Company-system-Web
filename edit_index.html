<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>客户_手动创建页面_给固定模板</title>
		<link rel="stylesheet" href="css/public/public.css" />
		<link rel="stylesheet" href="css/edit_index.css" />
	</head>
	<body>
		<div class="wrapper">
			<!--head-->
			<p class="head_box">页面编辑</p>
			<!--内容-->
			<div class="content clearfloat">
				<!--left box-->
				<div class="left_box">
					<!--功能插件-->
					<div class="left_box_fun_box clearfloat">
						<p class="fun_box_top">功能插件</p>
						<div class="fun_box_content clearfloat">
							<!--项-->
							<!--<p class="fun_box_content_term" onclick="rotationChart()">轮播</p>-->
							<p class="fun_box_content_term rotationChart">轮播</p>
							
							<p class="fun_box_content_term">公告</p>
							<p class="fun_box_content_term">标题</p>
							<p class="fun_box_content_term">搜索款</p>
						</div>
					</div>
				</div>
				<!--中间 box-->
				<div class="middle_box">
					<!--绝对定位=>设置图片，模拟手机-->
					<p class="phone_top"></p>
					<p class="phone_left"></p>
					<p class="phone_right"></p>
					<!--模拟手机的 wrap，背景图两边（img）-->
					<div class="html_wrpa">
						<!--水平居中-->
						<div class="html_box">
							<!--隐藏滚动条-->
							<div class="html_box_new">
								<include src="new_index.html"></include>
							</div>
							<!--<iframe id="lead_page" src="new_index.html" width="100%" height="100%" frameborder='0'></iframe>-->
						</div>
					</div>
					<p class="phone_bottom"></p>
				</div>
				<div class="right_box"></div>
			</div>
		</div>
		
		<!--引入另外一个页面的js-->
		<script src="js/include.js"></script>
		<script src="js/public/jquery-1.8.3.js"></script>
		<script src="js/public/swiper.min.js"></script>
		<!--操作-页面编辑-->
		<script src="js/public/edit_index.js"></script>
		
		<script>
			$(document).ready(function(){
				/*轮播图*/
				$('.rotationChart').on('click',function(){
					console.log('轮播图！');
					var eleInd = $('.sowingMapWrap').index();
					console.log(eleInd);
					var roStr = '';
					if(eleInd != -1){
						/*<!--publi 轮播图 wrap-->*/
						roStr += '<div class="sowingMapWrap chart_wrap'+ eleInd +'" onclick="removerEle(this)">';
					}else {
						roStr += '<div class="sowingMapWrap chart_wrap" onclick="removerEle(this)">';
					}
					if(eleInd != -1){
						/*<!--swiper的外框-->*/
							roStr += '<div class="swiper-container swiper_'+ eleInd +'">';
					}else {
							roStr += '<div class="swiper-container swiper_start">';
					}
								roStr += '<div class="swiper-wrapper clearfloat">';
									/*<!--（循环）轮播-项-->*/
								  	roStr += '<div class="swiper-slide">';
								  		/*<!--固定widen:690px;height:200px;-->*/
								  		roStr += '<img class="sowingMapImgNQ" src="img/0005.png" alt="" />';
								 	roStr += '</div>';
								 	roStr += '<div class="swiper-slide">';
								  		/*<!--固定widen:690px;height:200px;-->*/
								  		roStr += '<img class="sowingMapImgNQ" src="img/0005.png" alt="" />';
								 	roStr += '</div>';
								 	roStr += '<div class="swiper-slide">';
								  		/*<!--固定widen:690px;height:200px;-->*/
								  		roStr += '<img class="sowingMapImgNQ" src="img/0005.png" alt="" />';
								 	roStr += '</div>';
								roStr += '</div>';
								/*<!-- Add Pagination -->*/
								roStr += '<div class="swiper-pagination"></div>';
							roStr += '</div>';
						roStr += '</div>';
					console.log(roStr);
					/*追加元素*/
					$('.wrap_new').append(roStr);
					
					/*对应的script*/
					var script = document.createElement('script');
//						script.type = 'text/jacascript';
//						script.src = 'url';     //填自己的js路径
					
					var roScript = '';
					if(eleInd != -1){
						roScript += "var swiper = new Swiper('.swiper_"+ eleInd +"', {";
					}else {
						roScript += "var swiper = new Swiper('.swiper_start', {";
					}
							/*方向*/
							roScript += "direction: 'horizontal',";
							/*轮播项-循环*/
			        		roScript += 'loop: true,';
			        		//设置自动循环播放
			        		roScript += 'autoplay: {';
			        			/*时间间隔*/
								roScript += 'delay: 1000,';
								/*允许客户操作后，自动轮播*/
								roScript += 'disableOnInteraction: false,';
							roScript += '},';
			        		/*分页器*/
							roScript += 'pagination: {';
								roScript += "el: '.swiper-pagination',";
							roScript += '},';
						roScript += '});';
					script.innerHTML = roScript;
					console.log(eleInd);
					if(eleInd != -1){
						$('.sowingMapWrap').eq(eleInd+1).append(script);
					}else {
						$('.sowingMapWrap').eq(0).append(script);
					}
				})
				
				/*666*/
				
				
			})
			
		</script>
	</body>
</html>
